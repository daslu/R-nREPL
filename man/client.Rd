% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/client.R
\name{client}
\alias{client}
\alias{connect_epc}
\alias{connect_nrepl}
\alias{sync_request}
\alias{sync_request0}
\title{Low level functions for client connections.}
\usage{
connect_nrepl(port = 4005, host = "localhost",
  transport_fn = transport_bencode, verbose = FALSE)

connect_epc(port = 4006, host = "localhost",
  transport_fn = transport_swank, verbose = FALSE)

client(transport)

sync_request(client, op, ...)

sync_request0(client, op, ...)
}
\arguments{
\item{port}{Port number of a running nREPL instance .}

\item{host}{Host address. Defaults to "localhost".}

\item{transport_fn}{Constructor that returns a transport connection
object. See \code{\link{transport}}.}

\item{transport}{Transport connection object returned by \code{connect} or a
transport constructor such as \code{\link{transport_bencode}}.}

\item{client}{Client function produced by \code{client} constructor.}

\item{op}{Name of the requested operation (for example, "eval", "describe",
"load-file" etc)}

\item{...}{Key-value pairs of the request to be sent to nREPL server.}
}
\description{
Functions to perform the connect -> request -> receive -> close cycle.
}
\details{
In order to communicate to nREPL server you need first to create a
connection object with \code{connect}, then feed it to \code{client}
constructor which returns a function of variable arity.

Receive responses from nREPL one at a time by calling the client function
with no arguments. Send messages to nREPL server by calling client function
with key-value named arguments representing a message.

\code{sync_request} sends a requests and waits till the all the messages
associates with the current request have been received. Then returns a list
of the \code{bendict} responses. \code{sync_request0} is like
\code{sync_request} but combines all the responses from \code{sync_request}
into one \code{bendict} object.

As R has no multi-thread support, asynchronous requests are not yet
implemented.
}
\seealso{
\code{\link{transport}}
}

